<!DOCTYPE html>
<html lang="en">
<head>
    <script src="file:///android_asset/ace/ace.js"></script>
</head>
<body>
<div id="editor" style="width:100vw;height:100vw;"></div>

<script>
    var editor = ace.edit("editor");
    editor.resize(true);
    editor.session.setMode("ace/mode/csound_document");
    editor.setTheme("ace/theme/cobalt");

var setCodeMirrorText = function(mode) {
    try {
        var text = csoundApp.getCsoundText();
        editor.session.setMode(mode);
        editor.setValue(text);
        editor.clearSelection();
        return 'setCodeMirrorText';
    } catch (e) {
        return e.description;
    }
};
var getCodeMirrorText = function() {
    try {
        var text = editor.getValue();
        csoundApp.setCsoundText(text);
        return 'getCodeMirrorText ' + text;
    } catch (e) {
        return e.description;
    }
}
var getCodeMirrorTextAndRun = function() {
    try {
        var text = editor.getValue();
        csoundApp.setCsoundText(text);
        return 'getCodeMirrorTextAndRun' + text;
    } catch (e) {
        return e.description;
    }
}
var getCodeMirrorTextAndSave = function() {
    try {
        var text = codemirror_editor.getDoc().getValue();
        csoundApp.setCsoundText(text);
        return 'getCodeMirrorTextAndSave ' + text;
    } catch (e) {
        return e.description;
    }
}
</script>
</body>
</html>
