<!DOCTYPE html>
<html height="auto">
<head>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/codemirror.js"></script> -->
    <script src="file:///android_asset/codemirror/lib/codemirror.js"></script>
    <script src="file:///android_asset/codemirror/addon/dialog/dialog.js"></script>
    <script src="file:///android_asset/codemirror/addon/search/search.js"></script>
    <script src="file:///android_asset/codemirror/addon/search/searchcursor.js"></script>
    <script src="file:///android_asset/codemirror/addon/search/jump-to-line.js"></script>
    <script src="file:///android_asset/codemirror/mode/javascript/javascript.js"></script>
    <script src="file:///android_asset/codemirror/mode/css/css.js"></script>
    <link rel="stylesheet" href="file:///android_asset/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="file:///android_asset/codemirror/theme/cobalt.css">
    <link rel="stylesheet" href="file:///android_asset/codemirror/addon/dialog/dialog.css">
    <style type="text/css">
        .CodeMirror { height: 99vh; width: 99vw;}
    </style>
</head>
<body height="100%">
<script>
var codemirror_editor = CodeMirror(document.body, {
  mode:         "javascript",
  lineNumbers:  "true",
  theme:        "cobalt",
  mode:         "javascript",
});
codemirror_editor.refresh();
var setCodeMirrorText = function() {
    try {
        var text = csoundApp.getCsoundText();
        codemirror_editor.getDoc().setValue(text);
        return 'setCodeMirrorText';
    } catch (e) {
        return e.description;
    }
};
var getCodeMirrorText = function() {
    try {
        var text = codemirror_editor.getDoc().getValue();
        csoundApp.setCsoundText(text);
        return 'getCodeMirrorText ' + text;
    } catch (e) {
        return e.description;
    }
}
var getCodeMirrorTextAndRun = function() {
    try {
        var text = codemirror_editor.getDoc().getValue();
        csoundApp.setCsoundText(text);
        return 'getCodeMirrorTextAndRun' + text;
    } catch (e) {
        return e.description;
    }
}
var getCodeMirrorTextAndSave = function() {
    try {
        var text = codemirror_editor.getDoc().getValue();
        csoundApp.setCsoundText(text);
        return 'getCodeMirrorTextAndSave ' + text;
    } catch (e) {
        return e.description;
    }
}
</script>
</body>
</html>
